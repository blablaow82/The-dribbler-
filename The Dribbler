local AbilityModule = {Cooldowns = {}}
function AbilityModule.LeftShoot(player)
	if AbilityModule.Cooldowns[player] and AbilityModule.Cooldowns[player].LeftShoot then return end
	print(player.Name.." used LEFT SHOOT!")
	AbilityModule.Cooldowns[player] = AbilityModule.Cooldowns[player] or {}
	AbilityModule.Cooldowns[player].LeftShoot = true
	task.delay(3,function() AbilityModule.Cooldowns[player].LeftShoot=false end)
	local character=player.Character
	if character then
		local ball=workspace:FindFirstChild("SoccerBall")
		if ball then
			local direction=character.HumanoidRootPart.CFrame.LookVector
			local curveForce=Instance.new("BodyAngularVelocity",ball)
			curveForce.AngularVelocity=Vector3.new(0,15,0)
			curveForce.MaxTorque=Vector3.new(0,1e5,0)
			task.delay(0.5,function() curveForce:Destroy() end)
		end
	end
end
function AbilityModule.Metavision(player)
	print(player.Name.." activated META VISION!")
	local highlight=Instance.new("Highlight")
	highlight.FillTransparency=0.8
	highlight.OutlineColor=Color3.fromRGB(0,255,255)
	for _,opponent in ipairs(game.Players:GetPlayers())do
		if opponent~=player and opponent.Character then
			highlight:Clone().Parent=opponent.Character
		end
	end
	task.delay(5,function()
		for _,obj in ipairs(workspace:GetDescendants())do
			if obj:IsA("Highlight")then obj:Destroy() end
		end
	end)
end
function AbilityModule.Dash(player)
	local character=player.Character
	if character and character:FindFirstChild("Humanoid")then
		character.Humanoid.WalkSpeed=50
		task.delay(3,function()
			if character and character.Humanoid then
				character.Humanoid.WalkSpeed=16
			end
		end)
	end
end
function AbilityModule.DragonDrive(player)
	local character=player.Character
	if character then
		character.Humanoid.Jump=true
		local spinForce=Instance.new("BodyAngularVelocity",character.HumanoidRootPart)
		spinForce.AngularVelocity=Vector3.new(0,20,0)
		spinForce.MaxTorque=Vector3.new(0,1e5,0)
		task.delay(1,function() spinForce:Destroy() end)
	end
end
local button=script.Parent
local clickDetector=button:FindFirstChild("ClickDetector")or Instance.new("ClickDetector",button)
clickDetector.MouseClick:Connect(function(player)
	if not player:FindFirstChild("HasBlueLockAbilities")then
		local marker=Instance.new("BoolValue",player)
		marker.Name="HasBlueLockAbilities"
		game.StarterGui:SetCore("SendNotification",{
			Title="BLUE LOCK POWER!",
			Text="Abilities Unlocked: Q (Left Shoot), E (Metavision), R (Dragon Drive)",
			Duration=5,
		})
	end
end)
local RemoteEvent=Instance.new("RemoteEvent",game.ReplicatedStorage)
RemoteEvent.Name="RemoteEvent"
RemoteEvent.OnServerEvent:Connect(function(player,abilityName)
	if player:FindFirstChild("HasBlueLockAbilities")then
		if abilityName=="LeftShoot"then
			AbilityModule.LeftShoot(player)
		elseif abilityName=="Metavision"then
			AbilityModule.Metavision(player)
		elseif abilityName=="DragonDrive"then
			AbilityModule.DragonDrive(player)
		end
	end
end)
